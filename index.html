<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Varaipadam - Draw & Guess with Friends!</title>
    <meta name="description" content="Free multiplayer drawing and guessing game. Play with friends online!">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- PeerJS for P2P connections -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
</head>

<body>
    <!-- Animated Background -->
    <div class="bg-gradient"></div>
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
    </div>

    <!-- Lobby Screen -->
    <div id="lobby-screen" class="screen active">
        <div class="lobby-container">
            <div class="logo">
                <!-- <span class="logo-icon">ğŸ¨</span> -->
                <h1>à®µà®°à¯ˆ<span class="logo-accent">à®ªà®Ÿà®®à¯</span></h1>
                <p class="tagline">Draw & Guess!</p>
            </div>

            <div class="glass-card">
                <div class="input-group">
                    <label for="player-name">Your Name</label>
                    <input type="text" id="player-name" placeholder="Enter your name..." maxlength="15">
                </div>

                <div class="avatar-picker">
                    <label>Choose Avatar</label>
                    <div class="avatar-images">
                        <button class="avatar-image active" data-avatar="1.jpg"><img src="avatar/1.jpg"
                                alt="Avatar 1"></button>
                        <button class="avatar-image" data-avatar="2.jpg"><img src="avatar/2.jpg"
                                alt="Avatar 2"></button>
                        <button class="avatar-image" data-avatar="3.jpg"><img src="avatar/3.jpg"
                                alt="Avatar 3"></button>
                        <button class="avatar-image" data-avatar="4.jpg"><img src="avatar/4.jpg"
                                alt="Avatar 4"></button>
                        <button class="avatar-image" data-avatar="5.jpg"><img src="avatar/5.jpg"
                                alt="Avatar 5"></button>
                        <button class="avatar-image" data-avatar="6.webp"><img src="avatar/6.webp"
                                alt="Avatar 6"></button>
                        <button class="avatar-image" data-avatar="7.webp"><img src="avatar/7.webp"
                                alt="Avatar 7"></button>
                    </div>
                </div>

                <div class="lobby-actions">
                    <!-- Create Room Section -->
                    <div class="create-section">
                        <div class="input-group" style="margin-bottom: 12px;">
                            <label for="custom-room-code">Create Room Code</label>
                            <input type="text" id="custom-room-code" placeholder="Empty for random code" maxlength="6"
                                style="text-transform: uppercase; text-align: center; letter-spacing: 3px;">
                        </div>
                        <button id="create-room-btn" class="btn btn-primary">
                            <span class="btn-icon">âœ¨</span>
                            Create Room
                        </button>
                    </div>

                    <div class="divider">
                        <span>or</span>
                    </div>

                    <div class="join-section">
                        <input type="text" id="room-code-input" placeholder="ENTER ROOM CODE..." maxlength="6">
                        <button id="join-room-btn" class="btn btn-primary">
                            <span class="btn-icon">ğŸš€</span>
                            Join Room
                        </button>
                    </div>
                </div>
            </div>

            <p class="hosting-note">
                ğŸ§‘â€ğŸ¦½Have fun maamae!ğŸ”¥
            </p>
        </div>
    </div>

    <!-- Waiting Room Screen -->
    <div id="waiting-room-screen" class="screen">
        <div class="waiting-container">
            <div class="glass-card room-info-card">
                <h2>Room Code</h2>
                <div class="room-code-display">
                    <span id="display-room-code">ABCD12</span>
                    <button id="copy-code-btn" class="btn-icon-only" title="Copy code">ğŸ“‹</button>
                </div>
                <p class="share-text">Share this code with your friends!</p>
            </div>

            <!-- Game Settings (Host Only) -->
            <div id="game-settings" class="glass-card settings-card" style="display: none;">
                <h3>âš™ï¸ Game Settings</h3>
                <div class="settings-grid">
                    <div class="setting-item">
                        <label>Rounds per Player</label>
                        <select id="rounds-select">
                            <option value="1">1 round</option>
                            <option value="2" selected>2 rounds</option>
                            <option value="3">3 rounds</option>
                            <option value="4">4 rounds</option>
                            <option value="5">5 rounds</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Draw Time</label>
                        <select id="time-select">
                            <option value="45">45 seconds</option>
                            <option value="60">60 seconds</option>
                            <option value="80" selected>80 seconds</option>
                            <option value="100">100 seconds</option>
                            <option value="120">120 seconds</option>
                            <option value="150">150 seconds</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Max Players</label>
                        <select id="max-players-select">
                            <option value="2">2 players</option>
                            <option value="3">3 players</option>
                            <option value="4">4 players</option>
                            <option value="5">5 players</option>
                            <option value="6">6 players</option>
                            <option value="7">7 players</option>
                            <option value="8">8 players</option>
                            <option value="9">9 players</option>
                            <option value="10">10 players</option>
                            <option value="11">11 players</option>
                            <option value="12">12 players</option>
                            <option value="13">13 players</option>
                            <option value="14">14 players</option>
                            <option value="15">15 players</option>
                            <option value="16">16 players</option>
                            <option value="17">17 players</option>
                            <option value="18">18 players</option>
                            <option value="19">19 players</option>
                            <option value="20" selected>20 players</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>Hints</label>
                        <select id="hints-select">
                            <option value="0">No hints</option>
                            <option value="1" selected>1 hint</option>
                            <option value="2">2 hints</option>
                            <option value="3">3 hints</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="glass-card players-card">
                <h3><span id="player-count">(1/8)</span></h3>
                <ul id="players-list" class="players-list">
                    <!-- Players will be added here -->
                </ul>
            </div>

            <button id="start-game-btn" class="btn btn-primary btn-large" style="display: none;">
                <span class="btn-icon">ğŸ®</span>
                Start Game
            </button>

            <button id="leave-room-btn" class="btn btn-ghost">
                Leave Room
            </button>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-container">
            <!-- Game Header -->
            <header class="game-header">
                <div class="round-info">
                    <span class="round-label">Round</span>
                    <span id="round-display" class="round-number">1/6</span>
                </div>
                <div class="word-display">
                    <span id="word-hint">_ _ _ _ _</span>
                </div>
                <div class="timer-container">
                    <div id="timer-ring" class="timer-ring">
                        <svg viewBox="0 0 100 100">
                            <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
                            <circle id="timer-progress" class="timer-progress" cx="50" cy="50" r="45"></circle>
                        </svg>
                        <span id="timer-text" class="timer-text">80</span>
                    </div>
                </div>
            </header>

            <!-- Main Game Area -->
            <div class="game-main">
                <!-- Player Sidebar -->
                <aside class="player-sidebar glass-card">
                    <h3>Players</h3>
                    <ul id="game-players-list" class="game-players-list">
                        <!-- Players with scores -->
                    </ul>
                </aside>

                <!-- Canvas Area -->
                <div class="canvas-area">
                    <canvas id="drawing-canvas" width="900" height="700"></canvas>

                    <!-- Drawing Tools (only visible for drawer) -->
                    <div id="drawing-tools" class="drawing-tools" style="display: none;">
                        <div class="tool-group colors">
                            <button class="color-btn active" data-color="#000000" style="background: #000000;"></button>
                            <button class="color-btn" data-color="#ffffff" style="background: #ffffff;"></button>
                            <button class="color-btn" data-color="#ff4757" style="background: #ff4757;"></button>
                            <button class="color-btn" data-color="#ff6b81" style="background: #ff6b81;"></button>
                            <button class="color-btn" data-color="#ffa502" style="background: #ffa502;"></button>
                            <button class="color-btn" data-color="#ffdd59" style="background: #ffdd59;"></button>
                            <button class="color-btn" data-color="#2ed573" style="background: #2ed573;"></button>
                            <button class="color-btn" data-color="#1e90ff" style="background: #1e90ff;"></button>
                            <button class="color-btn" data-color="#5352ed" style="background: #5352ed;"></button>
                        </div>
                        <div class="tool-group sizes">
                            <button class="size-btn active" data-size="4"><span
                                    style="width: 8px; height: 8px;"></span></button>
                            <button class="size-btn" data-size="8"><span
                                    style="width: 12px; height: 12px;"></span></button>
                            <button class="size-btn" data-size="16"><span
                                    style="width: 18px; height: 18px;"></span></button>
                            <button class="size-btn" data-size="32"><span
                                    style="width: 26px; height: 26px;"></span></button>
                        </div>
                        <div class="tool-group actions">
                            <button id="brush-btn" class="tool-btn active" title="Brush">ğŸ–Œï¸</button>
                            <button id="fill-btn" class="tool-btn" title="Fill Bucket">ğŸª£</button>
                            <button id="eraser-btn" class="tool-btn" title="Eraser">ğŸª¨</button>
                            <button id="undo-btn" class="tool-btn" title="Undo">â†©ï¸</button>
                            <button id="clear-btn" class="tool-btn" title="Clear Canvas">ğŸ—‘ï¸</button>
                        </div>
                    </div>
                </div>

                <!-- Chat Area -->
                <aside class="chat-area glass-card">
                    <div id="chat-messages" class="chat-messages">
                        <!-- Chat messages -->
                    </div>
                    <div class="chat-input-container">
                        <input type="text" id="chat-input" placeholder="Type your guess..." maxlength="50">
                        <button id="send-chat-btn" class="btn btn-primary btn-small">Send</button>
                    </div>
                    <!-- Quick Reactions -->
                    <div class="reactions">
                        <button class="reaction-btn" data-reaction="ğŸ‘">ğŸ‘</button>
                        <button class="reaction-btn" data-reaction="ğŸ‘">ğŸ‘</button>
                        <button class="reaction-btn" data-reaction="ğŸ˜‚">ğŸ˜‚</button>
                        <button class="reaction-btn" data-reaction="ğŸ”¥">ğŸ”¥</button>
                        <button class="reaction-btn" data-reaction="ğŸ‘">ğŸ‘</button>

                    </div>
                </aside>
            </div>
        </div>
    </div>

    <!-- Word Selection Modal -->
    <div id="word-modal" class="modal">
        <div class="modal-content glass-card">
            <h2>Choose a word to draw!</h2>
            <div id="word-options" class="word-options">
                <!-- Word buttons -->
            </div>
        </div>
    </div>

    <!-- Round End Overlay -->
    <div id="round-overlay" class="overlay">
        <div class="overlay-content glass-card">
            <h2 id="overlay-title">Round Over!</h2>
            <p id="overlay-word">The word was: <strong>apple</strong></p>
            <div id="overlay-scores" class="overlay-scores">
                <!-- Scores -->
            </div>
        </div>
    </div>

    <!-- Game End Modal -->
    <div id="game-end-modal" class="modal">
        <div class="modal-content glass-card game-end-content">
            <div class="confetti"></div>
            <h2>ğŸ† Game Over! ğŸ†</h2>
            <div id="final-rankings" class="final-rankings">
                <!-- Rankings -->
            </div>
            <button id="play-again-btn" class="btn btn-primary btn-large">Play Again</button>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div id="toast-container" class="toast-container"></div>

    <!-- Sound Effects (using Web Audio API) -->
    <script src="sounds.js"></script>
    <script src="words.js"></script>
    <script src="game.js"></script>
</body>

</html>